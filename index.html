<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CMS Assistant</title>

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#0b2e6f" />

  <!-- Icons -->
  <link rel="icon" type="image/png" href="/icons/cms-assistant-192.png" />

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="top-header">
  <div class="header-left">
    <img src="/icons/cms-assistant-192.png" class="logo" />
    <div>
      <h1>CMS Assistant</h1>
      <p class="subtitle">Internal staff & parent assistant</p>
    </div>
  </div>

  <div class="header-right">
    <select id="campusSelect">
      <option value="">Campus</option>
      <option value="YC">YC</option>
      <option value="SC">SC</option>
      <option value="MC">MC</option>
      <option value="TC">TC</option>
    </select>

    <button id="adminModeBtn" class="pill hidden">Admin</button>
    <span id="roleBadge" class="role-badge hidden"></span>
    <button id="logoutBtn" class="pill hidden">Logout</button>
  </div>
</header>

<!-- ================= TOP MENU ================= -->
<nav id="topMenu" class="top-menu hidden">
  <button class="menu-pill" data-menu="policies">Policies</button>
  <button class="menu-pill" data-menu="protocols">Protocols</button>
  <button class="menu-pill" data-menu="handbook">Parent Handbook</button>

  <div id="adminLinks" class="admin-links hidden">
    <a href="dashboard.html">Dashboard</a>
    <a href="logs.html">Logs</a>
  </div>
</nav>

<!-- ================= LOGIN ================= -->
<section id="loginSection" class="card">
  <h2>Login</h2>
  <p>Enter your <strong>Staff</strong> or <strong>Parent</strong> access code and select a campus.</p>

  <input type="password" id="accessCode" placeholder="Access code" />

  <select id="loginCampus">
    <option value="">Select campus</option>
    <option value="YC">YC</option>
    <option value="SC">SC</option>
    <option value="MC">MC</option>
    <option value="TC">TC</option>
  </select>

  <button id="loginBtn" class="primary-btn">Login</button>

  <p class="hint">
    Admins can log in using the <strong>Admin</strong> button above.
  </p>
</section>

<!-- ================= INFO ================= -->
<section id="infoSection" class="card hidden">
  <p id="infoText"></p>
</section>

<!-- ================= CHAT ================= -->
<section id="chatSection" class="card hidden">
  <h3 id="activeTitle">Ask a question</h3>

  <div id="chatMessages" class="chat-box"></div>

  <div class="chat-input">
    <input type="text" id="questionInput" placeholder="Ask a question…" />
    <button id="askBtn">Ask</button>
  </div>
</section>

<!-- ================= FOOTER ================= -->
<footer>
  <small>© CMS – Internal use only</small>
</footer>

<!-- ================= APP ================= -->
<script src="app.js"></script>

<!-- ================= SERVICE WORKER ================= -->
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/sw.js");
}
</script>

</body>
</html>