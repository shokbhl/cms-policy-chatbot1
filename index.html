<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CMS Policy Assistant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Top Bar -->
  <header class="topbar">
    <div class="brand">
      <div class="logo">
        <img src="logo.png" alt="CMS Logo" />
      </div>
      <div class="txt">
        <b>CMS Policy Assistant</b>
        <span>Staff & Parent Support</span>
      </div>
    </div>

    <div class="controls">
      <div class="chip">
        <span>Campus</span>
        <select id="campusSelect">
          <option value="YC">York Mills (YC)</option>
          <option value="MC">Maplehurst (MC)</option>
          <option value="SC">Scarborough (SC)</option>
          <option value="TC">Thornhill (TC)</option>
          <option value="WC">Willowdale (WC)</option>
        </select>
      </div>

      <div class="chip">
        <span>Role</span>
        <select id="roleSelect">
          <option value="parent">Parent</option>
          <option value="staff">Staff</option>
        </select>
      </div>

      <button id="loginBtn" class="btn primary">Login</button>
      <button id="logoutBtn" class="btn hidden">Logout</button>
    </div>
  </header>

  <!-- Tabs -->
  <nav class="tabs">
    <button class="tab active" data-tab="policies">
      Policies <span class="count" id="countPolicies">0</span>
    </button>
    <button class="tab" data-tab="protocols">
      Protocols <span class="count" id="countProtocols">0</span>
    </button>
    <button class="tab" data-tab="handbooks">
      Parent Handbook <span class="count" id="countHandbooks">0</span>
    </button>
    <button class="tab" data-tab="chat">
      Chat
    </button>
  </nav>

  <!-- Main content -->
  <main class="wrap">

    <!-- Policies -->
    <section id="panel-policies" class="panel">
      <div class="card">
        <h3>Policies</h3>
        <div id="policiesList" class="docGrid"></div>
      </div>
    </section>

    <!-- Protocols -->
    <section id="panel-protocols" class="panel hidden">
      <div class="card">
        <h3>Protocols</h3>
        <div id="protocolsList" class="docGrid"></div>
      </div>
    </section>

    <!-- Handbooks -->
    <section id="panel-handbooks" class="panel hidden">
      <div class="card">
        <div class="hbTop">
          <div class="left">
            <h3>Parent Handbook</h3>
          </div>
          <div class="right">
            <select id="hbProgramSelect">
              <option value="">All Programs</option>
              <option value="preschool">Preschool</option>
              <option value="sr_casa">Sr. Casa</option>
              <option value="elementary">Elementary</option>
            </select>
          </div>
        </div>
        <div id="handbooksList" class="docGrid"></div>
      </div>
    </section>

    <!-- Chat -->
    <section id="panel-chat" class="panel hidden">
      <div class="card">
        <h3>Ask a Question</h3>

        <div class="chatBox">
          <div id="chatOutput" class="chatOutput"></div>

          <div class="chatBar">
            <textarea
              id="chatInput"
              placeholder="Ask about policies, protocols, or the parent handbook…"
            ></textarea>

            <select id="chatProgram">
              <option value="">Any Program</option>
              <option value="preschool">Preschool</option>
              <option value="sr_casa">Sr. Casa</option>
              <option value="elementary">Elementary</option>
            </select>

            <button id="chatSend" class="btn primary">Send</button>
            <div id="chatSpinner" class="spinner">Thinking…</div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Modal -->
  <div id="docModal">
    <div class="modalPanel">
      <div class="modalTop">
        <div>
          <h2 id="modalTitle">Title</h2>
          <div id="modalMeta" class="modalMeta"></div>
        </div>
        <div class="closeRow">
          <button id="modalClose" class="btn">Close</button>
        </div>
      </div>

      <div class="modalHeaderRow">
        <div class="left">
          <strong id="modalSectionTitle"></strong>
        </div>
        <div class="right">
          <a id="modalLink" href="#" target="_blank">Open Full Document</a>
        </div>
      </div>

      <div class="modalBody">
        <div id="modalActions" class="modalActions"></div>
      </div>

      <div class="modalScroll" id="modalContent"></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
